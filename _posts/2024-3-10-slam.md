---
layout: post
title:  "Extended Kalman Filter SLAM"
categories: [ SLAM, EKF, C++, ROS2, Open Robotics Turtlebot3 Burger, 2D LiDar ]
image: assets/images/slam.gif
featured: true
hidden: false
---

SLAM, EKF, C++, ROS2, Open Robotics Turtlebot3 Burger, 2D LiDar

[View This Project on GitHub](https://github.com/ME495-Navigation/slam-project-nu-jliu.git)

# Description
In this project, I designed and implemented `Simultanously Localization and Mapping (SLAM)` algorithm on `Extended Kalman Filter (EKF)` over `ROS2` platform from scratch on a `Turtlebot3 Burger`. This project enables the turtlebot to perform the localization and mapping calculations moving in field. 

# Demo Video
This project consists of two main tasks, which are:
 - `SLAM` with known association
 - `SLAM` with unknown association

## SLAM with known data association

<iframe width="560" height="315" src="https://www.youtube.com/embed/wWh1Wt239jg?si=P9O-9KfN2GA8I9Dg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>


## SLAM with unknown data association

<iframe width="560" height="315" src="https://www.youtube.com/embed/q_HbPRvHKSU?si=Kmc_H2XjPhXWGNoF" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

## Software Structure

The overall structure of the project is shown in the flowchart below:

![](/assets/images/slam.drawio.png)

<!-- ### Known Assocication
The structure for `SLAM` with known data asssociation is shown in the figure below.

![](/assets/images/rosgraph_slam.svg)

### Unknown Assosiation
The structure for `SLAM` with unknown data asssociation is shown in the figure below.

![](/assets/images/rosgraph_landmark.svg) -->

## Key Algorithms

There are two key algorithm implemented on this project, one is the `Extended Kalman Filter (EKF)` while another one is the `Circle Fitting Algorithm`

### Extented Kalman Filter (EKF)

The `EKF` algorithm allows robot to localize itself using the relative poses of all detected landmarks from itself. It is done by conditional probability. The key idea of the algorithm is to compare the theratical landmark poses due to the odometry and actual detected landmark poses. After that it find the pose with the highest probability given the pose from the last timestep. After that it will update the origin of the odometry so that robot will know its actual pose in the real world.

### Circle Detection

#### Data Cluster
This part of the algorithm uses the `Unsupervised Learning Algorithm` to cluster the data points so that robot will know which data points come from the same landmark.

#### Circle Fitting
To find the location and size of the circle, it used the `Supervised Learning Algorithm` to calculate the centroid of the circle.

#### Data Association
The data association is used for robot to know the circle detected belongs to which landmark. Since robot need to compare the measurement of a landmark from its current state with its previous state. 

## Packages
 - `nuturtle_description`: Visualizing the pose of the turtlebot3 burger
 - `turtlelib`: Call customized library functions for kinematics and slam calculations.
 - `nusim`: Simulate the turtlebot in the real world.
 - `nuturtle_control`: Performing the turtlebot kinematics calculation and parsing the command sent to the `turtlebot3`.
 - `nuslam`: Performs the SLAM algorithm for correcting the error odometry.